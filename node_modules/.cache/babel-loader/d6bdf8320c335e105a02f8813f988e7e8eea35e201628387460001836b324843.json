{"ast":null,"code":"import axios from \"axios\";\nexport const handleServices = async (e, state, setState) => {\n  e.preventDefault();\n  setState(prev => ({\n    ...prev,\n    loading: true,\n    error: null\n  }));\n  try {\n    const response = await axios.post(`https://api.enviosuramerica.com/services-web/tracking-guia`, {\n      guia: state.trackingNumber\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"Response from API:\", response.data);\n    if (response.status === 200) {\n      const data = response.data;\n      if (data.status === \"ok\") {\n        console.log(data.tracking);\n        setState(prev => ({\n          ...prev,\n          trackingResult: data.tracking,\n          loading: false\n        }));\n      } else {\n        setState(prev => ({\n          ...prev,\n          trackingResult: null,\n          error: data.mensaje || \"Error desconocido\",\n          loading: false\n        }));\n      }\n    } else {\n      throw new Error(`HTTP error status ${response.status}`);\n    }\n  } catch (error) {\n    console.error(\"Error:\", error.response ? error.response.data : error.message);\n    setState(prev => ({\n      ...prev,\n      error: \"No se pudo obtener información del seguimiento.\",\n      loading: false\n    }));\n  }\n};","map":{"version":3,"names":["axios","handleServices","e","state","setState","preventDefault","prev","loading","error","response","post","guia","trackingNumber","headers","console","log","data","status","tracking","trackingResult","mensaje","Error","message"],"sources":["/Users/gianfranco/Documents/americancargo/americancargo/src/modules/tracking/services/trackingServices.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { State } from \"../trackings\";\n\nexport const handleServices = async (\n  e: React.FormEvent,\n  state: any,\n  setState: React.Dispatch<React.SetStateAction<State>>\n) => {\n  e.preventDefault();\n  setState((prev) => ({ ...prev, loading: true, error: null }));\n\n  try {\n    const response = await axios.post(\n      `https://api.enviosuramerica.com/services-web/tracking-guia`,\n      { guia: state.trackingNumber },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    console.log(\"Response from API:\", response.data);\n\n    if (response.status === 200) {\n      const data = response.data;\n      if (data.status === \"ok\") {\n        console.log(data.tracking);\n        setState((prev) => ({\n          ...prev,\n          trackingResult: data.tracking,\n          loading: false,\n        }));\n      } else {\n        setState((prev) => ({\n          ...prev,\n          trackingResult: null,\n          error: data.mensaje || \"Error desconocido\",\n          loading: false,\n        }));\n      }\n    } else {\n      throw new Error(`HTTP error status ${response.status}`);\n    }\n  } catch (error: any) {\n    console.error(\n      \"Error:\",\n      error.response ? error.response.data : error.message\n    );\n    setState((prev) => ({\n      ...prev,\n      error: \"No se pudo obtener información del seguimiento.\",\n      loading: false,\n    }));\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAC5BC,CAAkB,EAClBC,KAAU,EACVC,QAAqD,KAClD;EACHF,CAAC,CAACG,cAAc,CAAC,CAAC;EAClBD,QAAQ,CAAEE,IAAI,KAAM;IAAE,GAAGA,IAAI;IAAEC,OAAO,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAK,CAAC,CAAC,CAAC;EAE7D,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAC/B,4DAA4D,EAC5D;MAAEC,IAAI,EAAER,KAAK,CAACS;IAAe,CAAC,EAC9B;MACEC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CACF,CAAC;IACDC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEN,QAAQ,CAACO,IAAI,CAAC;IAEhD,IAAIP,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;MAC3B,MAAMD,IAAI,GAAGP,QAAQ,CAACO,IAAI;MAC1B,IAAIA,IAAI,CAACC,MAAM,KAAK,IAAI,EAAE;QACxBH,OAAO,CAACC,GAAG,CAACC,IAAI,CAACE,QAAQ,CAAC;QAC1Bd,QAAQ,CAAEE,IAAI,KAAM;UAClB,GAAGA,IAAI;UACPa,cAAc,EAAEH,IAAI,CAACE,QAAQ;UAC7BX,OAAO,EAAE;QACX,CAAC,CAAC,CAAC;MACL,CAAC,MAAM;QACLH,QAAQ,CAAEE,IAAI,KAAM;UAClB,GAAGA,IAAI;UACPa,cAAc,EAAE,IAAI;UACpBX,KAAK,EAAEQ,IAAI,CAACI,OAAO,IAAI,mBAAmB;UAC1Cb,OAAO,EAAE;QACX,CAAC,CAAC,CAAC;MACL;IACF,CAAC,MAAM;MACL,MAAM,IAAIc,KAAK,CAAC,qBAAqBZ,QAAQ,CAACQ,MAAM,EAAE,CAAC;IACzD;EACF,CAAC,CAAC,OAAOT,KAAU,EAAE;IACnBM,OAAO,CAACN,KAAK,CACX,QAAQ,EACRA,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACO,IAAI,GAAGR,KAAK,CAACc,OAC/C,CAAC;IACDlB,QAAQ,CAAEE,IAAI,KAAM;MAClB,GAAGA,IAAI;MACPE,KAAK,EAAE,iDAAiD;MACxDD,OAAO,EAAE;IACX,CAAC,CAAC,CAAC;EACL;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}